@page "/4"
@using JoinedTogetherGmtk2021.Game

<h3>
    4. Ohana means nobody gets left behind
</h3>
<small>All banners must be reached (simultaneously)</small>

<CastleScenario FloorFactory="@FloorTemplate" WinConditionReached="@Next"/>

@inject NavigationManager NavigationManager
@code
{
    private void Next()
    {
        NavigationManager.NavigateTo("Interlude");
    }

    protected override void OnParametersSet()
    {
        base.OnParametersSet();
    }

    private Floor FloorTemplate()
    {
        var floor = new Floor(6, 6);
        floor.Layout[new FloorCoord {X = 0, Y = 2}] = new Room(RoomTypes.PATH_E_W);
        floor.GameObjects.Add(new GameObject{Position = new FloorCoord{X=0,Y=2},IsPlayer = true});

        floor.Layout[new FloorCoord {X = 5, Y = 2}] = new Room(RoomTypes.PATH_E_W);
        floor.GameObjects.Add(new GameObject{Position = new FloorCoord{X=5,Y=2},IsExit = true});

        floor.Layout[new FloorCoord {X = 0, Y = 3}] = new Room(RoomTypes.PATH_E_W);
        floor.GameObjects.Add(new GameObject{Position = new FloorCoord{X=0,Y=3},IsPlayer = true});

        floor.Layout[new FloorCoord {X = 2, Y = 3}] = new Room(RoomTypes.PATH_E_W);
        floor.GameObjects.Add(new GameObject{Position = new FloorCoord{X=2,Y=3},IsExit = true});



        floor.Layout[new FloorCoord {X = 0, Y = 5}] = new Room(RoomTypes.PATHN__W);
        floor.Layout[new FloorCoord {X = 1, Y = 5}] = new Room(RoomTypes.PATH__SW);
        floor.Layout[new FloorCoord {X = 2, Y = 5}] = new Room(RoomTypes.PATHN___);
        floor.Layout[new FloorCoord {X = 3, Y = 5}] = new Room(RoomTypes.PATH_E_W);
        floor.Layout[new FloorCoord {X = 4, Y = 5}] = new Room(RoomTypes.PATH_ES_);
        floor.Layout[new FloorCoord {X = 5, Y = 5}] = new Room(RoomTypes.PATHNE__);
        return floor;
    }

}


